# Generated by autokernel on 2020-03-22 14:23:30 UTC
# vim: set ft=ruby ts=4 sw=4 sts=-1 noet:
# required by security_opts
module config_bug {
	set BUG y;
}

# required by security_opts
module config_strict_kernel_rwx {
	set STRICT_KERNEL_RWX y;
}

# required by security_opts
module config_stackprotector_strong {
	set STACKPROTECTOR_STRONG y;
}

# required by security_opts
module config_slub_debug {
	set SLUB_DEBUG y;
}

# required by security_opts
module config_strict_module_rwx {
	set STRICT_MODULE_RWX y;
}

# required by security_opts
module config_microcode {
	set MICROCODE y;
}

# required by security_opts
module config_retpoline {
	set RETPOLINE y;
}

# required by security_opts
module config_x86_smap {
	set X86_SMAP y;
}

# required by security_opts
module config_x86_umip {
	set X86_UMIP y;
}

# required by security_opts
module config_iommu_support {
	set IOMMU_SUPPORT y;
}

# required by security_opts
module config_syn_cookies {
	set SYN_COOKIES y;
}

# required by security_opts
module config_page_table_isolation {
	set PAGE_TABLE_ISOLATION y;
}

# required by security_opts
module config_randomize_memory {
	set RANDOMIZE_MEMORY y;
}

# required by security_opts
module config_intel_iommu {
	set INTEL_IOMMU y;
}

# required by security_opts
module config_amd_iommu {
	set AMD_IOMMU y;
}

# required by security_opts
module config_vmap_stack {
	set VMAP_STACK y;
}

# required by security_opts
module config_randomize_base {
	set RANDOMIZE_BASE y;
}

# required by security_opts
module config_thread_info_in_task {
	set THREAD_INFO_IN_TASK y;
}

# required by security_opts
module config_bug_on_data_corruption {
	set BUG_ON_DATA_CORRUPTION y;
}

# required by security_opts
module config_debug_wx {
	set DEBUG_WX y;
}

# required by security_opts
module config_sched_stack_end_check {
	set SCHED_STACK_END_CHECK y;
}

# required by security_opts
module config_slab_freelist_hardened {
	set SLAB_FREELIST_HARDENED y;
}

# required by security_opts
module config_slab_freelist_random {
	set SLAB_FREELIST_RANDOM y;
}

# required by security_opts
module config_shuffle_page_allocator {
	set SHUFFLE_PAGE_ALLOCATOR y;
}

# required by security_opts
module config_fortify_source {
	set FORTIFY_SOURCE y;
}

# required by security_opts
module config_gcc_plugins {
	set GCC_PLUGINS y;
}

# required by security_opts
module config_gcc_plugin_randstruct {
	set GCC_PLUGIN_RANDSTRUCT y;
}

# required by security_opts
module config_gcc_plugin_latent_entropy {
	set GCC_PLUGIN_LATENT_ENTROPY y;
}

# required by security_opts
module config_debug_list {
	set DEBUG_LIST y;
}

# required by security_opts
module config_debug_sg {
	set DEBUG_SG y;
}

# required by security_opts
module config_debug_credentials {
	set DEBUG_CREDENTIALS y;
}

# required by security_opts
module config_debug_notifiers {
	set DEBUG_NOTIFIERS y;
}

# required by security_opts
module config_page_poisoning {
	set PAGE_POISONING y;
}

# required by security_opts
module config_hardened_usercopy {
	set HARDENED_USERCOPY y;
}

# required by config_module_sig_all
# required by config_module_sig_force
# required by security_opts
module config_module_sig {
	set MODULE_SIG y;
}

# required by security_opts
module config_module_sig_all {
	use config_module_sig;
	set MODULE_SIG_ALL y;
}

# required by security_opts
module config_module_sig_sha512 {
	set MODULE_SIG_SHA512 y;
}

# required by security_opts
module config_module_sig_force {
	use config_module_sig;
	set MODULE_SIG_FORCE y;
}

# required by security_opts
module config_init_stack_all {
	set INIT_STACK_ALL y;
}

# required by security_opts
module config_init_on_alloc_default_on {
	set INIT_ON_ALLOC_DEFAULT_ON y;
}

# required by security_opts
module config_init_on_free_default_on {
	set INIT_ON_FREE_DEFAULT_ON y;
}

# required by security_opts
module config_security_dmesg_restrict {
	set SECURITY_DMESG_RESTRICT y;
}

# required by security_opts
module config_debug_virtual {
	set DEBUG_VIRTUAL y;
}

# required by security_opts
module config_static_usermodehelper {
	set STATIC_USERMODEHELPER y;
}

# required by security_opts
module config_gcc_plugin_stackleak {
	set GCC_PLUGIN_STACKLEAK y;
}

# required by security_opts
module config_intel_iommu_svm {
	set INTEL_IOMMU_SVM y;
}

# required by security_opts
module config_intel_iommu_default_on {
	set INTEL_IOMMU_DEFAULT_ON y;
}

# required by security_opts
module config_slub_debug_on {
	set SLUB_DEBUG_ON y;
}

# required by security_opts
module config_reset_attack_mitigation {
	set RESET_ATTACK_MITIGATION y;
}

# required by security_opts
module config_amd_iommu_v2 {
	set AMD_IOMMU_V2 y;
}

# required by security_opts
module config_security {
	set SECURITY y;
}

# required by security_opts
module config_security_yama {
	set SECURITY_YAMA y;
}

# required by security_opts
module config_security_loadpin {
	set SECURITY_LOADPIN y;
}

# required by config_security_lockdown_lsm_early
# required by security_opts
module config_security_lockdown_lsm {
	set SECURITY_LOCKDOWN_LSM y;
}

# required by security_opts
module config_security_lockdown_lsm_early {
	use config_security_lockdown_lsm;
	set SECURITY_LOCKDOWN_LSM_EARLY y;
}

# required by security_opts
module config_lock_down_kernel_force_confidentiality {
	set LOCK_DOWN_KERNEL_FORCE_CONFIDENTIALITY y;
}

# required by security_opts
module config_seccomp {
	set SECCOMP y;
}

# required by security_opts
module config_seccomp_filter {
	set SECCOMP_FILTER y;
}

# required by security_opts
module config_strict_devmem {
	set STRICT_DEVMEM y;
}

# required by security_opts
module config_io_strict_devmem {
	set IO_STRICT_DEVMEM y;
}

# required by security_opts
module config_legacy_vsyscall_none {
	set LEGACY_VSYSCALL_NONE y;
}

module security_disables {
	set HARDENED_USERCOPY_FALLBACK n;
	set SLAB_MERGE_DEFAULT n;
	set GCC_PLUGIN_RANDSTRUCT_PERFORMANCE n;
	set STACKLEAK_METRICS n;
	set STACKLEAK_RUNTIME_DISABLE n;
	set RANDOM_TRUST_CPU n;
	set PAGE_POISONING_NO_SANITY n;
	set PAGE_POISONING_ZERO n;
	set MODULES n;
	set DEVMEM n;
	set ACPI_CUSTOM_METHOD n;
	set COMPAT_BRK n;
	set DEVKMEM n;
	set COMPAT_VDSO n;
	set BINFMT_MISC n;
	set INET_DIAG n;
	set KEXEC n;
	set PROC_KCORE n;
	set LEGACY_PTYS n;
	set HIBERNATION n;
	set IA32_EMULATION n;
	set X86_X32 n;
	set MODIFY_LDT_SYSCALL n;
	set X86_PTDUMP n;
	set ZSMALLOC_STAT n;
	set PAGE_OWNER n;
	set DEBUG_KMEMLEAK n;
	set BINFMT_AOUT n;
	set KPROBES n;
	set UPROBES n;
	set GENERIC_TRACER n;
	set PROC_VMCORE n;
	set PROC_PAGE_MONITOR n;
	set USELIB n;
	set CHECKPOINT_RESTORE n;
	set USERFAULTFD n;
	set HWPOISON_INJECT n;
	set MEM_SOFT_DIRTY n;
	set DEVPORT n;
	set DEBUG_FS n;
	set NOTIFIER_ERROR_INJECTION n;
	set ACPI_TABLE_UPGRADE n;
	set ACPI_APEI_EINJ n;
	set PROFILING n;
	set BPF_SYSCALL n;
	set MMIOTRACE_TEST n;
	set KSM n;
	set KALLSYMS n;
	set X86_VSYSCALL_EMULATION n;
	set MAGIC_SYSRQ n;
	set KEXEC_FILE n;
	set USER_NS n;
	set LDISC_AUTOLOAD n;
	set MMIOTRACE n;
	set LIVEPATCH n;
	set IP_DCCP n;
	set IP_SCTP n;
	set FTRACE n;
	set BPF_JIT n;
}

module security_opts {
	use security_disables;
	use config_bug;
	use config_strict_kernel_rwx;
	use config_stackprotector_strong;
	use config_slub_debug;
	use config_microcode;
	use config_retpoline;
	use config_x86_smap;
	use config_x86_umip;
	use config_iommu_support;
	use config_syn_cookies;
	use config_page_table_isolation;
	use config_randomize_memory;
	use config_intel_iommu;
	use config_amd_iommu;
	use config_vmap_stack;
	use config_randomize_base;
	use config_thread_info_in_task;
	use config_bug_on_data_corruption;
	use config_debug_wx;
	use config_sched_stack_end_check;
	use config_slab_freelist_hardened;
	use config_slab_freelist_random;
	use config_shuffle_page_allocator;
	use config_fortify_source;
	use config_gcc_plugins;
	use config_gcc_plugin_randstruct;
	use config_gcc_plugin_latent_entropy;
	use config_debug_list;
	use config_debug_sg;
	use config_debug_credentials;
	use config_debug_notifiers;
	use config_page_poisoning;
	use config_hardened_usercopy;
    #if MODULES {
    #    use config_strict_module_rwx;
    #    use config_module_sig;
    #    use config_module_sig_all;
    #    use config_module_sig_sha512;
    #    use config_module_sig_force;
    #}
	use config_init_stack_all;
	use config_init_on_alloc_default_on;
	use config_init_on_free_default_on;
	use config_security_dmesg_restrict;
	use config_debug_virtual;
	use config_static_usermodehelper;
	use config_gcc_plugin_stackleak;
	use config_intel_iommu_svm;
	use config_intel_iommu_default_on;
	use config_slub_debug_on;
	use config_reset_attack_mitigation;
	use config_amd_iommu_v2;
	use config_security;
	use config_security_yama;
	use config_security_loadpin;
	use config_security_lockdown_lsm;
	use config_security_lockdown_lsm_early;
	use config_lock_down_kernel_force_confidentiality;
	use config_seccomp;
	use config_seccomp_filter;
	use config_strict_devmem;
	use config_io_strict_devmem;
	use config_legacy_vsyscall_none;
	set DEFAULT_MMAP_MIN_ADDR "65536";
	set ARCH_MMAP_RND_BITS "32";
}

